<main>
  <p class="titles">Previously Created Surveys</p>
  <table class="table table-sm">
    <tbody>
      <tr *ngIf='getSurveys().length == 0'>
        <td colspan="5">There are no surveys</td>
      </tr>
      <ng-template ngFor let-s [ngForOf]='getSurveys()'>
        <tr>
          <th>Title</th>
          <td>{{ s.title }}</td>
        </tr>
        <th>Questions</th>
        <th>Questions Answers</th>
        <th>Category</th>
        <th colspan="2">Description</th>
        
          <button class="btn btn-danger" (click)='delete(s._id)'>
            <i class="fas fa-trash-alt"></i> Delete </button>
        
        <tr *ngFor='let line of s.questionnaire.lines'>
          <td>{{ line.question.title }}</td>
          <td>{{ line.question.choice1 }}<br>  
              {{ line.question.choice2 }}<br>
              {{ line.question.choice3 }}<br>
              {{ line.question.choice4 }}</td>
          <td>{{ s.category }}</td>
          <td>{{ s.description }}</td>
        </tr>
      </ng-template>
    </tbody>
  </table> 

  <div class="d-grid gap-2 col-3 mx-auto">
    <button class="btn btn-primary" (click)='addSurvey()'>
      <i class="fas fa-plus-circle"></i> Create a Survey
    </button>

    <button class="btn btn-success" (click)='filledOutSurvey()'>
      <i class="fas fa-plus-circle"></i> Filled Out Surveys
    </button>
  </div>
</main>