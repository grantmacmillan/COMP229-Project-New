<!--
Student IDs: 
  - 301129935
  - 301136902
  - 301180926
  - 301166198
  - 301134374
  - 301153049
WebApp name: Survey Site
Description: Questionnaire-Detail Component Html - questionnaire-detail.component.html
-->

<!--Main Content-->
<main class="container" style="margin-bottom: 0px; text-align: center;">
<div class="container">
    <div class="row">
        <div class="col">

            <!--Titles-->
            <p class="titles">{{ survey.title }}</p>
            <h5 class="text-center">{{ survey.category }}</h5>
            <h6 class="text-center"> {{ survey.description }}</h6>

            <!--Displays Questions and Choices In a Repeating Manner-->
            <div style="background-color: rgb(105, 105, 105); box-shadow: 5px 5px 15px black;"  class="form-check form-check-inline">
            <table class="table table-bordered table-stripped p-2" style="text-align: left;">
                <tr *ngFor='let line of survey.questionnaire.lines; let i = index;'>
                    <td>{{ line.question.title }}</td>
                    <td > 
                        <label class="form-check-label">{{ line.question.choice1 }}</label>
                        <input type="radio" name={{i}} class="form-check-input bg-warning" value={{line.question.choice1}} [(ngModel)]='line.answer'>
                    </td>
                    <td>
                        <label class="form-check-label">{{ line.question.choice2 }}</label>
                        <input type="radio" name={{i}} class="form-check-input bg-warning" value={{line.question.choice2}} [(ngModel)]='line.answer'>
                    </td>
                    <td>
                        <label class="form-check-label">{{ line.question.choice3 }}</label>
                        <input type="radio" name={{i}} class="form-check-input bg-warning" value={{line.question.choice3}} [(ngModel)]='line.answer'>
                    </td>
                    <td>
                        <label class="form-check-label">{{ line.question.choice4 }}</label>
                        <input type="radio" name={{i}} class="form-check-input bg-warning" value={{line.question.choice4}} [(ngModel)]='line.answer'>
                    </td>
                </tr>
            </table>   
        </div>    
        </div>            
    </div>
</div>

<!--Buttons-->
    <div class="row">
        <div class="col">
            <div class="text-center">
                <button class="btn btn-secondary m-1" routerLink='/question-list'>
                    Back to Surveys
                </button>
                <button class="btn btn-success m-1" (click)="submitSurvey(survey)">
                    Submit Survey
                </button>
            </div>
        </div>
    </div> 
</main>